"use strict";angular.module("notifications",[]).factory("$notification",["$timeout",function(e){console.log("Notification service online. :)");var t=JSON.parse(localStorage.getItem("$notifications"))||[],n=[],r={info:{icon:"info-sign",duration:5e3,enabled:!0},warning:{icon:"warning-sign",duration:5e3,enabled:!0},error:{icon:"exclamation-sign",duration:5e3,enabled:!0},success:{icon:"check-sign",duration:5e3,enabled:!0},custom:{icon:"trophy",duration:35e3,enabled:!0},localStorage:!0,defaultIco:"icon.png"};return{getAll:function(){return t},getQueue:function(){return n},notify:function(e,t,n,r,i,s){return this.makeNotification(e,t,n,r,i,s)},makeNotification:function(i,s,o,u,a,f){s=s!==""?s:!1;o=o!==""?o:r[i].icon||r.defaultIco;var l={type:i,image:s,icon:o,title:u,content:a,timestamp:+(new Date),userData:f};t.push(l);n.push(l);e(function(){n.splice(n.indexOf(l),1)},r[i].duration);this.save();return l},save:function(){r.localStorage&&localStorage.setItem("$notifications",JSON.stringify(t))},restore:function(){},clear:function(){t=[];this.save()}}}]).directive("notifications",["$notification","$compile",function(e,t){function r(e,t,n){var r=n.notifications;r=r.split(" ");t.addClass("jd-notification-container");for(var i=0;i<r.length;i++)t.addClass(r[i])}console.log("Notifications directive instantiated.");var n='<div class="jd-notification-wrapper" ng-repeat="notification in queue"><div class="jd-notification-close-btn" ng-click="removeNotification(notification)"><i class="icon-remove"></i></div><div class="jd-notification jd-notification-{{ notification.type }}"><div class="jd-notification-image jd-notification-type-{{ notification.type }}" ng-switch on="notification.image"><i class="icon-{{ notification.icon }}" ng-switch-when="false"></i><img ng-src="{{ notification.image }}" ng-switch-default /></div><div class="jd-notification-content jd-notification-content-{{ notification.type }}"><h3 class="jd-notification-title">{{ notification.title }}</h3><p class="jd-notification-text">{{ notification.content }}</p></div></div></div>';return{restrict:"A",scope:{},template:n,link:r,controller:["$scope",function(n){n.queue=e.getQueue();n.removeNotification=function(e){n.queue.splice(n.queue.indexOf(e),1)}}]}}]);